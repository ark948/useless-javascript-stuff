<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // js vars can belong to local or global scope
        // local vars can be made private (local) with closures

        let b = 2; // global (belongs to global object)
        function myFunction() {
            a = 4; // also global
        }
        // IMPORTANT Variables created without a declaration keyword (var, let, or const) are always global, even if they are created inside a function.


        // creating a closure, using nested function
        const add = (function () {
            let counter = 0;
            return function () { counter += 1; return counter }
        })();

        add();
        add();
        add();

        // the counter is now 3

        // Example Explained
        // The variable add is assigned to the return value of a self-invoking function.

        // The self-invoking function only runs once. It sets the counter to zero, and returns a function expression.
        // This way add becomes a function. The "wonderful" part is that it can access the counter in the parent scope.
        // This is called a JavaScript closure. It makes it possible for a function to have "private" variables.
        // The counter is protected by the scope of the anonymous function, and can only be changed using the add function.

        // so, basically, a closure is a function, that can will run once (self invoking), initializing a private var
        // after that, it is possible to access its private var using the func it will return
        // but not from any other way
    </script>
</body>

</html>